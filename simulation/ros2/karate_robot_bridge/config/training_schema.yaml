schema_version: 2
observations:
  layout:
    - joint_positions
    - safety_latch
    - strategist_state_id
    - base_pose
    - base_twist
    - foot_contacts
  observation_fields:
    - name: joint_positions
      size: 14
    - name: safety_latch
      size: 1
    - name: strategist_state_id
      size: 1
    - name: base_pose
      size: 4
    - name: base_twist
      size: 3
    - name: foot_contacts
      size: 2
  joint_units: radians
  safety_latch:
    type: uint8
    meaning: 0 = ok, 1 = safety halt latched
  strategist_state_id:
    order: [MOKUSO, REI, KAMAE, MIMIC, SAFETY_HALT]
  base_pose:
    layout: [height_z, roll, pitch, yaw]
    units: [meters, radians, radians, radians]
  base_twist:
    layout: [linear_x, linear_y, angular_z]
    units: [m/s, m/s, rad/s]
  foot_contacts:
    layout: [left, right]
    type: bool
    topics:
      left: contact/left_foot
      right: contact/right_foot
actions:
  type: float64_array
  layout: joint_targets
  joint_units: radians
  description: absolute joint targets matching joint_names order
  smoothing_alpha: 0.5
  position_min: -1.2
  position_max: 1.2
  max_delta_per_sec: 2.0
reward_mode: walk
reward_profile: custom
curriculum:
  enabled: false
  stage_episodes: 50
  profiles: [stable, baseline, forward]
  active_profile: custom
reward:
  kick:
    hip_target: 0.7
    knee_target: -0.2
    ankle_target: 0.1
    weights:
      hip: 0.6
      knee: 0.9
      ankle: 0.2
    safety_latch_penalty: -1.0
    velocity_penalty: 0.0
    success_reward: 1.0
  walk:
    frequency_hz: 1.2
    hip_swing: 0.5
    knee_lift: 0.6
    ankle_lift: 0.25
    weights:
      hip: 0.5
      knee: 0.4
      ankle: 0.2
      symmetry: 0.15
    energy_penalty: 0.01
    ramp_sec: 5.0
    min_scale: 0.3
    forward_velocity_target: 0.3
    forward_velocity_weight: 0.6
    upright_weight: 0.2
    height_target: 0.9
    height_weight: 0.0
    fall_pitch_rad: 0.9
    fall_roll_rad: 0.9
    min_base_height: 0.0
    contact_weight: 0.2
    air_timeout_sec: 0.6
    success_sec: 6.0
    error_threshold: 0.35
done:
  conditions:
    - safety_latch == 1
    - fallen (roll/pitch/height)
    - air_timeout_sec exceeded (if > 0)
    - walk_goal reached
    - episode_timeout_sec elapsed (if > 0)
joint_names:
  - l_shoulder_pan
  - l_shoulder_lift
  - l_elbow_flex
  - r_shoulder_pan
  - r_shoulder_lift
  - r_elbow_flex
  - l_hip_pitch
  - l_knee_pitch
  - l_ankle_pitch
  - r_hip_pitch
  - r_knee_pitch
  - r_ankle_pitch
  - neck_pan
  - neck_tilt
